//https://codeforces.com/contest/61/problem/B
import java.util.Scanner;
import java.lang.Math; 
// import java.util.Arrays;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.IntSummaryStatistics;
 
public class Demo {
    public static boolean isLatinLetterString(String str) {
        // Проверяем, содержит ли строка только латинские буквы
        return str.matches("[A-Za-z]+");
    }
    public static String toLowerCase(String str) {
        // Преобразуем всю строку в нижний регистр
        return str.toLowerCase();
    }
  public static void main(String[] args) {
         Scanner scanner = new Scanner(System.in);
         String[] word = new String[3];
         int x =0;
         for(int i =0; i <3;i++){
                 String letters = scanner.nextLine();
                 String[] words = letters.split("");
                 String text = "";
                 for(int s=0; s<words.length;s++){
                   if(isLatinLetterString(words[s])){
                        text = text + words[s];
                        x++;
                   }      
                 }
                 String h = toLowerCase(text);
                 word[i] = h;
         }
          int j = scanner.nextInt();
          String let = scanner.nextLine();
          for(int i = 0; i < j;i++){
                  int ok = 0;
                  String text = "";
                  int z = 0;
                  let = scanner.nextLine();
                  String[] words = let.split("");
                  for(int s =0; s < words.length;s++){
                    if(isLatinLetterString(words[s])){
                        text = text + words[s];
                        z++;
                    }   
                  }
                  if(z == x){
                   String h = toLowerCase(text);
                //    System.out.println(h);
                  
                   if(h.equals(word[2]+word[0]+word[1]) || h.equals(word[2]+word[1]+word[0]) || h.equals(word[0]+word[2]+word[1]) || h.equals(word[0]+word[1]+word[2]) || h.equals(word[1]+word[0]+word[2]) || h.equals(word[1]+word[2]+word[0]) ){
                       ok++; 
                   } 
                  
                   
                   if(ok==0){
                             System.out.println("WA");
                   }else {
                             System.out.println("ACC");
                   }
                  } else {
                          System.out.println("WA");
                  }
                  
          }
  }
}
